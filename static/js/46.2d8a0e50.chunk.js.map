{"version":3,"file":"static/js/46.2d8a0e50.chunk.js","mappings":"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","sources":["pages/PaymentVouchers.tsx","pages/DisbursementReports.tsx","hooks/useCrud.ts","pages/CheckVouchers.tsx","pages/APManagement.tsx","utils/date.ts"],"sourcesContent":["import React, { useState, useContext, useRef, useCallback } from 'react';\nimport { Box, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Select, MenuItem, FormControl, InputLabel, Snackbar, Alert, CircularProgress, IconButton, Table, TableHead, TableRow, TableCell, TableBody, Checkbox } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport axios from 'axios';\nimport { UserContext, User } from '../UserContext';\nimport { buildUrl, tryFetchWithFallback, API_BASE as RESOLVED_API_BASE } from '../apiBase';\nimport { formatDateToMMDDYYYY } from '../utils/date';\nconsole.debug && console.debug('PaymentVouchers: resolved API_BASE =', RESOLVED_API_BASE || '(empty, using fallback)');\n\ninterface PaymentLine { payee_id?: string | number; payee_contact_id?: number | null; payee_name?: string; payee_display?: string; description?: string; amount?: number | string }\ninterface JournalLine { coa_id?: string | number | null; debit?: number | string; credit?: number | string; remarks?: string }\ninterface PVForm {\n  status?: string;\n  preparation_date?: string | null;\n  purpose?: string;\n  paid_through?: string;\n  prepared_by?: number | string | null;\n  prepared_by_manual?: string | null;\n  description?: string;\n  payment_lines?: PaymentLine[];\n  journal_lines?: JournalLine[];\n  reviewed_by?: number | string;\n  reviewed_by_manual?: string;\n  approved_by?: number | string;\n  approved_by_manual?: string;\n}\n\nconst emptyForm: PVForm = {\n  status: 'Draft',\n  preparation_date: '',\n  purpose: '',\n  paid_through: '',\n  prepared_by: null,\n  description: '',\n  payment_lines: [],\n  journal_lines: [],\n};\n\nconst PaymentVouchers: React.FC = () => {\n  const { user } = useContext(UserContext);\n  const [items, setItems] = useState<any[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  // Contacts and COA lists\n  const [contacts, setContacts] = useState<any[]>([]);\n  const [coas, setCoas] = useState<any[]>([]);\n\n  // Dialog state\n  const [open, setOpen] = useState(false);\n  const [editing, setEditing] = useState<any | null>(null);\n  const [form, setForm] = useState<PVForm>(emptyForm);\n  const [expectedControl, setExpectedControl] = useState<string>('');\n  const firstFocusRef = useRef<HTMLInputElement | null>(null);\n  const [companyProfile, setCompanyProfile] = useState<any>(null);\n  const [userNames, setUserNames] = useState<Record<string, string>>({});\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewItem, setPreviewItem] = useState<any | null>(null);\n\n  // Helper: parse signatory value which may be a number, string, JSON array string like '[\"1\"]', or an array\n  const parseSignatoryValue = (val:any): string[] => {\n    if (val === undefined || val === null || val === '') return [];\n    if (Array.isArray(val)) return val.map(String).filter(Boolean);\n    if (typeof val === 'number') return [String(val)];\n    if (typeof val === 'string') {\n      // Try JSON parse (handles '[\"1\"]' or '[1]')\n      try {\n        const p = JSON.parse(val);\n        if (Array.isArray(p)) return p.map(String).filter(Boolean);\n        if (typeof p === 'number' || typeof p === 'string') return [String(p)];\n      } catch (e) {\n        // not JSON\n      }\n      // Try extract first numeric id from string like '[1]' or '1'\n      const m = val.match(/\\d+/);\n      if (m) return [m[0]];\n      // otherwise treat as manual name (no numeric ids)\n      return [];\n    }\n    return [];\n  };\n\n  // Helper: render signatory display using userNames cache when possible, fallback to manual string\n  const getSignatoryDisplay = (val:any): string => {\n    const ids = parseSignatoryValue(val);\n    if (ids.length) {\n      return ids.map(id => userNames[String(id)] || String(id)).join(', ');\n    }\n    // fallback to raw string (manual name)\n    if (val && typeof val === 'string') return val;\n    return '';\n  };\n\n  // Delete confirmation\n  const [deleteId, setDeleteId] = useState<number | null>(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n\n  // Multi-select for DR creation\n  const [selected, setSelected] = useState<Record<number, boolean>>({});\n  const [creatingDR, setCreatingDR] = useState(false);\n\n  // Snackbar\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackMsg, setSnackMsg] = useState('');\n  const [snackSeverity, setSnackSeverity] = useState<'success' | 'error' | 'info'>('info');\n\n  const fetchAll = useCallback(async () => {\n    setLoading(true);\n    try {\n      // Fetch payment vouchers, contacts, and coas independently so one failure doesn't block the others\n  let pvResData: Array<any> = [];\n      try {\n  const pvRes = await axios.get(buildUrl('/api/payment-vouchers'));\n        pvResData = Array.isArray(pvRes.data) ? pvRes.data : [];\n      } catch (err:any) {\n        console.error('payment-vouchers fetch error', err?.response?.data || err.message || err);\n        // keep pvResData as empty array\n      }\n      setItems(pvResData);\n      // Seed userNames cache from any prepared_by_username in the fetched PVs\n      try {\n        const seed: Record<string,string> = {};\n        const idsToFetch = new Set<string>();\n        for (const p of pvResData) {\n          if (p.prepared_by_username) seed[String(p.prepared_by)] = p.prepared_by_username;\n          else if (p.prepared_by && !isNaN(Number(p.prepared_by))) {\n            const sid = String(p.prepared_by);\n            // queue numeric ids that we don't already have in cache\n            if (!userNames[sid]) idsToFetch.add(sid);\n          }\n        }\n        if (Object.keys(seed).length) setUserNames(prev => ({ ...prev, ...seed }));\n        if (idsToFetch.size) {\n          const token = localStorage.getItem('token');\n          await Promise.all(Array.from(idsToFetch).map(async id => {\n            try {\n              const r = await axios.get(buildUrl(`/api/users/${id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n              if (r && r.data) setUserNames(prev => ({ ...prev, [id]: r.data.full_name || r.data.username || id }));\n            } catch (e) {\n              // don't block others; leave id unresolved\n            }\n          }));\n        }\n      } catch (e) {}\n\n      // Contacts\n  let fetchedContacts: Array<{ contact_id: number; display_name: string; contact_type?: string }> = [];\n      try {\n  const contactRes = await axios.get(buildUrl('/api/contacts'));\n        fetchedContacts = Array.isArray(contactRes.data) ? contactRes.data : [];\n      } catch (err:any) {\n        console.error('contacts fetch error', err?.response?.data || err.message || err);\n        fetchedContacts = [];\n      }\n\n      // if no contacts returned, try vendors as fallback\n      if (fetchedContacts.length === 0) {\n        try {\n          const vendRes = await axios.get(buildUrl('/api/vendors'));\n          const vendors = Array.isArray(vendRes.data) ? vendRes.data : [];\n          // Map vendors to contact-like shape\n          const mapped = vendors.map(v => ({ contact_id: v.vendor_id, display_name: v.name, contact_type: 'Vendor' }));\n          console.log('contacts empty; using vendors fallback count=', mapped.length, mapped.slice(0,5));\n          setContacts(mapped);\n        } catch (e:any) {\n          console.error('vendors fallback fetch error', e?.response?.data || e.message || e);\n          setContacts([]);\n        }\n      } else {\n        console.log('contacts fetched count=', fetchedContacts.length, fetchedContacts.slice(0,5));\n        setContacts(fetchedContacts);\n      }\n\n      // COA\n      try {\n  const coaRes = await axios.get(buildUrl('/api/coa/all/simple'));\n        const c = Array.isArray(coaRes.data) ? coaRes.data : [];\n        console.log('coas fetched count=', c.length, c.slice(0,5));\n        setCoas(c);\n      } catch (err:any) {\n        console.warn('coa fetch primary failed, trying fallback', err?.response?.data || err.message || err);\n        try {\n          const fb = await axios.get(buildUrl('/api/coa/all/simple/fallback'));\n          const c2 = Array.isArray(fb.data) ? fb.data : [];\n          console.log('coa fetched fallback count=', c2.length, c2.slice(0,5));\n          setCoas(c2);\n        } catch (err2:any) {\n          console.error('coa fetch fallback failed', err2?.response?.data || err2.message || err2);\n          setCoas([]);\n        }\n      }\n    } catch (e:any) {\n      console.error('fetchAll error', e);\n    } finally { setLoading(false); }\n  }, [userNames]);\n\n  const fetchCoas = async () => {\n    try {\n      // Use the same simple fetch style as `Contacts.tsx` for consistent behavior\n  const res = await tryFetchWithFallback('/api/coa/all/simple');\n      if (!res.ok) throw new Error(`COA primary fetch failed: ${res.status}`);\n      const data = await res.json();\n      const c = Array.isArray(data) ? data : [];\n      setCoas(c);\n      return c;\n    } catch (err:any) {\n      console.warn('coa fetch primary failed, trying fallback', err?.message || err);\n      try {\n  const fbRes = await tryFetchWithFallback('/api/coa/all/simple/fallback');\n        if (!fbRes.ok) throw new Error(`COA fallback fetch failed: ${fbRes.status}`);\n        const data2 = await fbRes.json();\n        const c2 = Array.isArray(data2) ? data2 : [];\n        setCoas(c2);\n        return c2;\n      } catch (err2:any) {\n        console.error('coa fetch fallback failed', err2?.message || err2);\n        setCoas([]);\n        return [];\n      }\n    }\n  };\n\n  const fetchContacts = async () => {\n    try {\n  const contactRes = await axios.get(buildUrl('/api/contacts'));\n      const fetchedContacts = Array.isArray(contactRes.data) ? contactRes.data : [];\n      if (!fetchedContacts || fetchedContacts.length === 0) {\n        // fallback to vendors\n        try {\n          const vendRes = await axios.get(buildUrl('/api/vendors'));\n          const vendors = Array.isArray(vendRes.data) ? vendRes.data : [];\n          const mapped = vendors.map((v:any) => ({ contact_id: v.vendor_id, display_name: v.name, contact_type: 'Vendor' }));\n          setContacts(mapped);\n          return mapped;\n        } catch (e:any) {\n          console.error('vendors fallback fetch error', e?.response?.data || e.message || e);\n          setContacts([]);\n          return [];\n        }\n      }\n      setContacts(fetchedContacts);\n      return fetchedContacts;\n    } catch (err:any) {\n      console.error('contacts fetch error', err?.response?.data || err.message || err);\n      setContacts([]);\n      return [];\n    }\n  };\n\n  const openNew = async () => {\n    await Promise.all([fetchContacts(), fetchCoas()]);\n    // compute expected control based on current count (matches backend behavior)\n    try {\n  const res = await axios.get(buildUrl('/api/payment-vouchers/simple'));\n      const rows = Array.isArray(res.data) ? res.data : [];\n      setExpectedControl(`PV-${rows.length + 1}`);\n    } catch (e:any) {\n      console.warn('failed to compute expected control', e?.response?.data || e.message || e);\n      setExpectedControl('');\n    }\n    setEditing(null);\n    // Refresh current user from server to ensure workflow fields are up-to-date\n  let refreshedUser: User | null = null;\n    try {\n      const token = localStorage.getItem('token');\n      const resp = await axios.get(buildUrl('/api/auth/me'), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n      if (resp && resp.data) refreshedUser = resp.data;\n    } catch (e) {\n      // fallback to local context\n      refreshedUser = user as User | null;\n    }\n    // derive signatories from refreshed user's workflow settings (prefer id then manual)\n  let reviewed_by_val: number | string = '';\n  let approved_by_val: number | string = '';\n    try {\n      const me: User | null = refreshedUser as User | null;\n      if (me) {\n        const _me: User = me;\n        if (_me.reviewer_id) reviewed_by_val = _me.reviewer_id;\n        else if (_me.reviewer_manual) reviewed_by_val = _me.reviewer_manual as string;\n        if (_me.approver_id) approved_by_val = _me.approver_id;\n        else if (_me.approver_manual) approved_by_val = _me.approver_manual as string;\n      }\n      // seed userNames cache with current user's full_name for prepared_by\n      if (me && me.user_id) {\n        setUserNames(prev => ({ ...prev, [String(me.user_id)]: me.full_name || me.username || String(me.user_id) }));\n      }\n      // seed reviewer/approver names from refreshed user workflow if numeric\n      try {\n        const token = localStorage.getItem('token');\n        if (me && me.reviewer_id && !isNaN(Number(me.reviewer_id))) {\n          const rid = String(me.reviewer_id);\n          axios.get(buildUrl(`/api/users/${rid}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} })\n            .then(r => { if (r && r.data) setUserNames(prev => ({ ...prev, [rid]: r.data.full_name || r.data.username || rid })); })\n            .catch(() => {});\n        }\n        if (me && me.approver_id && !isNaN(Number(me.approver_id))) {\n          const aid = String(me.approver_id);\n          axios.get(buildUrl(`/api/users/${aid}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} })\n            .then(r => { if (r && r.data) setUserNames(prev => ({ ...prev, [aid]: r.data.full_name || r.data.username || aid })); })\n            .catch(() => {});\n        }\n      } catch (e) {}\n    } catch (e) {}\n\n    setForm({\n      ...emptyForm,\n      preparation_date: new Date().toISOString().slice(0,10),\n      prepared_by: (refreshedUser && refreshedUser.user_id) ? refreshedUser.user_id : (user?.user_id || null),\n      reviewed_by: reviewed_by_val,\n      approved_by: approved_by_val,\n      // note: do not store separate display fields here; rely on userNames cache and user.full_name\n      // ensure at least one payment_line and one journal_line so selects render options\n      payment_lines: [{ payee_id: '', description: '', amount: 0 }],\n      journal_lines: [{ coa_id: '', debit: 0, credit: 0, remarks: '' }]\n    });\n    // If reviewed_by/approved_by are numeric IDs, resolve their full_name for display\n    try {\n      const token = localStorage.getItem('token');\n      if (reviewed_by_val && !isNaN(Number(reviewed_by_val))) {\n        const id = String(reviewed_by_val);\n        axios.get(buildUrl(`/api/users/${id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} })\n          .then(r => { if (r && r.data) {\n            setUserNames(prev => ({ ...prev, [id]: r.data.full_name || r.data.username || id }));\n          } })\n          .catch(() => { /* ignore - we'll fallback to manual string in rendering */ });\n      }\n      if (approved_by_val && !isNaN(Number(approved_by_val))) {\n        const id2 = String(approved_by_val);\n        axios.get(buildUrl(`/api/users/${id2}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} })\n          .then(r => { if (r && r.data) {\n            setUserNames(prev => ({ ...prev, [id2]: r.data.full_name || r.data.username || id2 }));\n          } })\n          .catch(() => { /* ignore - manual fallback handled in UI */ });\n      }\n    } catch (e) {}\n    setOpen(true);\n  };\n  interface PVItem { payment_voucher_id?: number; payment_voucher_control?: string; payment_lines?: PaymentLine[]; journal_lines?: JournalLine[]; reviewer_id?: number | string; reviewer_manual?: string; approver_id?: number | string; approver_manual?: string; reviewed_by?: number | string; reviewed_by_manual?: string; approved_by?: number | string; approved_by_manual?: string; prepared_by?: number | string; preparation_date?: string | null }\n  const openEdit = async (pv: PVItem) => {\n    await Promise.all([fetchContacts(), fetchCoas()]);\n    setEditing(pv);\n    setExpectedControl(pv.payment_voucher_control || '');\n\n    // Determine reviewer/approver values: prefer PV-level fields; if missing, fall back to current user's workflow so the form is actually filled\n    const pvReviewer = pv.reviewer_id || pv.reviewer_manual || pv.reviewed_by || pv.reviewed_by_manual || '';\n    const pvApprover = pv.approver_id || pv.approver_manual || pv.approved_by || pv.approved_by_manual || '';\n    const reviewerValue = pvReviewer || (user && ((user as User).reviewer_id || (user as User).reviewer_manual)) || '';\n    const approverValue = pvApprover || (user && ((user as User).approver_id || (user as User).approver_manual)) || '';\n\n    setForm({\n      ...pv,\n      preparation_date: pv.preparation_date && typeof pv.preparation_date === 'string' && pv.preparation_date.indexOf('T') !== -1 ? pv.preparation_date.slice(0,10) : pv.preparation_date,\n      payment_lines: pv.payment_lines && pv.payment_lines.length ? pv.payment_lines.map((pl:any) => ({ payee_id: pl.payee_contact_id ? String(pl.payee_contact_id) : (pl.payee_id || ''), payee_name: pl.payee_display || pl.payee_name || '', description: pl.description || '', amount: pl.amount || 0 })) : [{ payee_id: '', description: '', amount: 0 }],\n      journal_lines: pv.journal_lines && pv.journal_lines.length ? pv.journal_lines : [{ coa_id: '', debit: 0, credit: 0, remarks: '' }],\n      reviewed_by: reviewerValue,\n      approved_by: approverValue\n    });\n    // Seed userNames cache for the values we've set so the displayed labels show full names when possible\n    try {\n      const token = localStorage.getItem('token');\n      const idsToResolve: string[] = [];\n      const rid = reviewerValue || '';\n      const aid = approverValue || '';\n      const pid = pv.prepared_by || '';\n      if (rid && !isNaN(Number(rid))) idsToResolve.push(String(rid));\n      if (aid && !isNaN(Number(aid))) idsToResolve.push(String(aid));\n      if (pid && !isNaN(Number(pid))) idsToResolve.push(String(pid));\n      if (idsToResolve.length) {\n        await Promise.all(Array.from(new Set(idsToResolve)).map(async id => {\n          try {\n            const r = await axios.get(buildUrl(`/api/users/${id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n            if (r && r.data) setUserNames(prev => ({ ...prev, [id]: r.data.full_name || r.data.username || id }));\n          } catch (e) { /* ignore individual failures */ }\n        }));\n      }\n    } catch (e) {}\n\n    setOpen(true);\n  };\n\n  // Prefetch data on mount for the overview and dialog selects\n  React.useEffect(() => {\n    fetchAll();\n  }, [fetchAll]);\n\n  // When dialog opens, move focus into the dialog to avoid leaving focus\n  // on an element that will be aria-hidden (prevents accessibility console warnings).\n  React.useEffect(() => {\n    if (open) {\n      // slight delay to allow dialog to mount\n      setTimeout(() => { try { firstFocusRef.current?.focus(); } catch (e) {} }, 0);\n    }\n  }, [open]);\n\n  React.useEffect(() => {\n    // fetch company profile for header\n    tryFetchWithFallback('/api/company-profile', { cache: 'no-store' })\n      .then(r => r.ok ? r.json().then(d => setCompanyProfile(d)) : setCompanyProfile(null))\n      .catch(() => setCompanyProfile(null));\n  }, []);\n\n  const downloadPdf = async (pvId: number | string | undefined) => {\n    if (!pvId) return;\n    try {\n      const token = localStorage.getItem('token');\n  const headers: Record<string, string> = {};\n      if (token) headers.Authorization = `Bearer ${token}`;\n  const resp = await tryFetchWithFallback(`/api/payment-vouchers/${pvId}/pdf`, { headers });\n      if (!resp.ok) {\n        const txt = await resp.text();\n        let msg = txt;\n        try { msg = JSON.parse(txt).error || txt; } catch (e) { msg = txt; }\n        setSnackMsg(msg || `PDF request failed: ${resp.status}`);\n        setSnackSeverity('error'); setSnackOpen(true);\n        return;\n      }\n      const ct = resp.headers.get('content-type') || '';\n      if (!ct.includes('application/pdf')) {\n        const txt = await resp.text();\n        let msg = txt;\n        try { msg = JSON.parse(txt).error || txt; } catch (e) { msg = txt; }\n        setSnackMsg(msg || 'Server did not return a PDF'); setSnackSeverity('error'); setSnackOpen(true);\n        return;\n      }\n      const blob = await resp.blob();\n      const url = URL.createObjectURL(blob);\n      const disp = resp.headers.get('content-disposition') || '';\n      let filename = 'voucher.pdf';\n      const m = /filename=\"?([^\";]+)\"?/.exec(disp);\n      if (m && m[1]) filename = m[1];\n      const a = document.createElement('a');\n      a.href = url; a.download = filename; document.body.appendChild(a); a.click(); a.remove();\n      URL.revokeObjectURL(url);\n    } catch (e:any) {\n      setSnackMsg(e?.message || 'Download failed'); setSnackSeverity('error'); setSnackOpen(true);\n    }\n  };\n\n  \n\n  const confirmDelete = (id: number) => { setDeleteId(id); setConfirmOpen(true); };\n  const doDelete = async () => {\n    if (deleteId == null) return;\n    try {\n      const token = localStorage.getItem('token');\n  await axios.delete(buildUrl(`/api/payment-vouchers/${deleteId}`), { headers: { Authorization: `Bearer ${token}` } });\n      setSnackMsg('Deleted'); setSnackSeverity('success'); setSnackOpen(true);\n      setConfirmOpen(false); setDeleteId(null);\n      fetchAll();\n    } catch (e:any) {\n      setSnackMsg(e.response?.data?.error || e.message || 'Delete failed'); setSnackSeverity('error'); setSnackOpen(true);\n    }\n  };\n\n  const toggleSelect = (id: number) => setSelected(prev => ({ ...prev, [id]: !prev[id] }));\n\n  const createDR = async () => {\n    const ids = Object.keys(selected).filter(k => selected[+k]).map(k => +k);\n    if (ids.length === 0) { setSnackMsg('Select at least one PV'); setSnackSeverity('info'); setSnackOpen(true); return; }\n  const amount_to_pay = items.filter(p => ids.includes(p.payment_voucher_id)).reduce((s, p) => s + (Number(p.amount_to_pay) || (p.payment_lines && p.payment_lines.length ? p.payment_lines.reduce((ss:any,l:any)=>ss + (Number(l.amount)||0),0) : 0) ), 0);\n    setCreatingDR(true);\n    try {\n      const token = localStorage.getItem('token');\n  await axios.post(buildUrl('/api/disbursement-reports'), {\n        status: 'Draft',\n        disbursement_date: new Date().toISOString().slice(0,10),\n        purpose: 'Created from selected PVs',\n        amount_to_pay,\n        paid_through: 'Bank',\n        voucher_ids: ids\n      }, { headers: { Authorization: `Bearer ${token}` } });\n      setSnackMsg('Disbursement Report created'); setSnackSeverity('success'); setSnackOpen(true);\n      setSelected({});\n      fetchAll();\n    } catch (e:any) {\n      setSnackMsg(e.response?.data?.error || e.message || 'Create DR failed'); setSnackSeverity('error'); setSnackOpen(true);\n    } finally { setCreatingDR(false); }\n  };\n\n  return (\n    <Box>\n      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\n        <h3>Payment Vouchers</h3>\n        <div>\n          <Button variant=\"contained\" onClick={openNew} sx={{mr:1}}>New PV</Button>\n          <Button onClick={() => fetchAll()} sx={{mr:1}}>Refresh</Button>\n          <Button color=\"secondary\" variant=\"outlined\" onClick={() => setSelected({})}>Clear Selection</Button>\n        </div>\n      </div>\n\n      {loading ? <CircularProgress /> : (\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell></TableCell>\n              <TableCell>PV Ctrl</TableCell>\n              <TableCell>Prepared</TableCell>\n              <TableCell>Prepared Date</TableCell>\n              <TableCell>Purpose</TableCell>\n              <TableCell>Amount</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map(pv => (\n              <TableRow key={pv.payment_voucher_id}>\n                <TableCell><Checkbox checked={!!selected[pv.payment_voucher_id]} onChange={() => toggleSelect(pv.payment_voucher_id)} /></TableCell>\n                <TableCell>{pv.payment_voucher_control}</TableCell>\n                <TableCell>{pv.prepared_by_username || (pv.prepared_by && !isNaN(Number(pv.prepared_by)) ? (userNames[String(pv.prepared_by)] || String(pv.prepared_by)) : (pv.prepared_by || ''))}</TableCell>\n                <TableCell>{formatDateToMMDDYYYY(pv.preparation_date)}</TableCell>\n                <TableCell>{pv.purpose || '-'}</TableCell>\n                <TableCell>{pv.amount_to_pay || (pv.payment_lines && pv.payment_lines.length ? pv.payment_lines.reduce((s:any,l:any)=>s + (Number(l.amount)||0),0) : 0)}</TableCell>\n                <TableCell>\n                  <Button size=\"small\" onClick={() => openEdit(pv)} sx={{mr:1}}>Edit</Button>\n                  <Button size=\"small\" color=\"error\" onClick={() => confirmDelete(pv.payment_voucher_id)} sx={{mr:1}}>Delete</Button>\n                  <Button size=\"small\" onClick={async () => {\n                    try {\n                      // Ensure company profile is available\n                      if (!companyProfile) {\n                        const r = await tryFetchWithFallback('/api/company-profile', { cache: 'no-store' });\n                        if (r.ok) {\n                          const d = await r.json();\n                          setCompanyProfile(d);\n                        }\n                      }\n\n                      // First try to fetch the server-enriched single PV which should include\n                      // prepared_by_name, reviewed_by_name, approved_by_name and account_name on journal lines.\n                      let serverPV: any = null;\n                      try {\n                        const token = localStorage.getItem('token');\n                        const resp = await axios.get(buildUrl(`/api/payment-vouchers/${pv.payment_voucher_id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n                        if (resp && resp.data) serverPV = resp.data;\n                      } catch (e) {\n                        // server fetch failed; we'll fallback to local enrichment below\n                        serverPV = null;\n                      }\n\n                      // If server provided an enriched PV, prefer it as the base for preview\n                      const basePV = serverPV || pv;\n\n                      // Resolve COA account_name for journal lines using local `coas` cache when missing\n                      const resolvedJournal = (basePV.journal_lines || []).map((j:any) => {\n                        const copy = { ...j };\n                        if (!copy.account_name) {\n                          const cid = copy.coa_id || copy.coa;\n                          if (cid !== undefined && cid !== null && coas && coas.length) {\n                            const found = coas.find((c:any) => String(c.coa_id) === String(cid) || String(c.coa_id) === String((copy.coa_id || '')));\n                            if (found) copy.account_name = found.account_name || found.name || '';\n                          }\n                        }\n                        return copy;\n                      });\n\n                      const enrichedPV = { ...basePV, journal_lines: resolvedJournal };\n\n                      // If server did not provide signatory names, fetch numeric user names as needed\n                      const fetchedNames: Record<string,string> = {};\n                      try {\n                        const maybe = (val:any) => (val !== undefined && val !== null) ? val : '';\n                        const ridVals = parseSignatoryValue(maybe(enrichedPV.reviewer_id) || maybe(enrichedPV.reviewer_manual) || maybe(enrichedPV.reviewed_by) || maybe(enrichedPV.reviewed_by_manual) || '');\n                        const aidVals = parseSignatoryValue(maybe(enrichedPV.approver_id) || maybe(enrichedPV.approver_manual) || maybe(enrichedPV.approved_by) || maybe(enrichedPV.approved_by_manual) || '');\n                        const pidVals = parseSignatoryValue(maybe(enrichedPV.prepared_by) || maybe(enrichedPV.prepared_by_manual) || '');\n                        const idsToFetch = new Set<string>();\n                        for (const id of [...ridVals, ...aidVals, ...pidVals]) {\n                          if (id && !userNames[String(id)]) idsToFetch.add(String(id));\n                        }\n                        if (idsToFetch.size) {\n                          const token = localStorage.getItem('token');\n                          await Promise.all(Array.from(idsToFetch).map(async id => {\n                            try {\n                              const r = await axios.get(buildUrl(`/api/users/${id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n                              if (r && r.data) fetchedNames[id] = r.data.full_name || r.data.username || id;\n                            } catch (e) {\n                              // ignore\n                            }\n                          }));\n                          if (Object.keys(fetchedNames).length) setUserNames(prev => ({ ...prev, ...fetchedNames }));\n                        }\n                      } catch (e) { /* ignore */ }\n\n                      // Ensure reviewed_by_name and approved_by_name are present, preferring server values\n                      if (!enrichedPV.prepared_by_name) {\n                        const vals = parseSignatoryValue(enrichedPV.prepared_by || enrichedPV.prepared_by_manual || '');\n                        if (vals && vals.length) enrichedPV.prepared_by_name = userNames[vals[0]] || fetchedNames[vals[0]] || String(vals[0]);\n                        else enrichedPV.prepared_by_name = enrichedPV.prepared_by_manual || '';\n                      }\n                      if (!enrichedPV.reviewed_by_name) {\n                        const vals = parseSignatoryValue(enrichedPV.reviewer_id || enrichedPV.reviewer_manual || enrichedPV.reviewed_by || enrichedPV.reviewed_by_manual || '');\n                        if (vals && vals.length) enrichedPV.reviewed_by_name = userNames[vals[0]] || fetchedNames[vals[0]] || String(vals[0]);\n                        else enrichedPV.reviewed_by_name = enrichedPV.reviewer_manual || enrichedPV.reviewed_by_manual || '';\n                      }\n                      if (!enrichedPV.approved_by_name) {\n                        const vals = parseSignatoryValue(enrichedPV.approver_id || enrichedPV.approver_manual || enrichedPV.approved_by || enrichedPV.approved_by_manual || '');\n                        if (vals && vals.length) enrichedPV.approved_by_name = userNames[vals[0]] || fetchedNames[vals[0]] || String(vals[0]);\n                        else enrichedPV.approved_by_name = enrichedPV.approver_manual || enrichedPV.approved_by_manual || '';\n                      }\n\n                      // Expose the server-provided source flags on the enriched item so the UI can show where names came from\n                      // (server returns `reviewerSource` and `approverSource` when available)\n                      if (basePV && basePV.reviewerSource) enrichedPV.reviewerSource = basePV.reviewerSource;\n                      if (basePV && basePV.approverSource) enrichedPV.approverSource = basePV.approverSource;\n\n                      setPreviewItem(enrichedPV);\n                    } catch (e) {\n                      // fallback to original PV if anything goes wrong\n                      try { setPreviewItem(pv); } catch (ex) { setPreviewItem(null); }\n                    }\n                    setPreviewOpen(true);\n                  }}>Preview</Button>\n                </TableCell>\n              </TableRow>\n            ))}\n            {items.length === 0 && (\n              <TableRow><TableCell colSpan={7}>No payment vouchers found.</TableCell></TableRow>\n            )}\n          </TableBody>\n        </Table>\n      )}\n\n      <div style={{marginTop:'1rem'}}>\n        <Button variant=\"contained\" color=\"primary\" onClick={createDR} disabled={creatingDR}>{creatingDR ? <><CircularProgress size={16} /> Creating...</> : 'Create DR from selected'}</Button>\n      </div>\n\n      <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"lg\">\n        <DialogTitle>{editing ? `Edit Payment Voucher (${expectedControl || (editing && editing.payment_voucher_control) || ''})` : `New Payment Voucher${expectedControl ? ' (expected: ' + expectedControl + ')' : ''}`}<IconButton aria-label=\"close\" onClick={() => setOpen(false)} sx={{position:'absolute', right:8, top:8}}><CloseIcon /></IconButton></DialogTitle>\n        <DialogContent>\n          {/* Basic Details */}\n          <Box sx={{display:'grid', gridTemplateColumns: '1fr 1fr', gap: 2, mb:2}}>\n            <TextField inputRef={firstFocusRef} label=\"Preparation Date\" type=\"date\" value={form.preparation_date || ''} onChange={e => setForm({...form, preparation_date: e.target.value})} InputLabelProps={{ shrink: true }} />\n            <FormControl>\n              <InputLabel id=\"purpose-label\">Purpose</InputLabel>\n              <Select labelId=\"purpose-label\" value={form.purpose || ''} label=\"Purpose\" onChange={e => setForm({...form, purpose: e.target.value})}>\n                <MenuItem value=\"\">-- Select Purpose --</MenuItem>\n                <MenuItem value=\"Bills Payment\">Bills Payment</MenuItem>\n                <MenuItem value=\"Liquidation Payouts\">Liquidation Payouts</MenuItem>\n                <MenuItem value=\"Government and Other Agency Payments\">Government and Other Agency Payments</MenuItem>\n                <MenuItem value=\"OSM Request\">OSM Request</MenuItem>\n                <MenuItem value=\"Cash Advance / Budget Request\">Cash Advance / Budget Request</MenuItem>\n                <MenuItem value=\"Other Payments\">Other Payments</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n\n          {/* Payment Details - dynamic rows */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>PAYMENT DETAILS</Box>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Payee</TableCell>\n                  <TableCell>Description</TableCell>\n                  <TableCell align=\"right\">Amount to Pay</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {(form.payment_lines || []).map((line:any, idx:number) => (\n                  <TableRow key={idx}>\n                    <TableCell sx={{minWidth:200}}>\n                      <Select fullWidth value={line.payee_id || line.payee || ''} onChange={e => {\n                        const v = e.target.value; const copy = {...form}; copy.payment_lines = copy.payment_lines || [];\n                        copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), payee_id: v, payee_name: contacts.find(c=>String(c.contact_id)===String(v))?.display_name || '' };\n                        setForm(copy);\n                      }}>\n                        <MenuItem value=\"\">-- Select Payee --</MenuItem>\n                        {contacts.map(c => (\n                          <MenuItem key={c.contact_id} value={String(c.contact_id)}>\n                            {c.display_name}\n                            {c.contact_type ? ` (${c.contact_type})` : ''}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.description || ''} onChange={e => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), description: e.target.value }; setForm(copy); }} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <TextField type=\"number\" value={line.amount || ''} onChange={e => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), amount: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <Button color=\"error\" onClick={() => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines = copy.payment_lines.filter((_:any,i:number)=>i!==idx); setForm(copy); }}>Remove</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <Box sx={{mt:1}}>\n              <Button onClick={() => {\n                const copy = {...form};\n                copy.payment_lines = copy.payment_lines || [];\n                copy.payment_lines.push({payee_id:'', description:'', amount:0});\n                setForm(copy);\n              }}>+ Add another line</Button>\n            </Box>\n            <Box sx={{mt:2, textAlign:'right', fontWeight:700}}>Total Amount to Pay: PHP {(form.payment_lines || []).reduce((s:any,l:any)=>s + (Number(l.amount)||0), 0)}</Box>\n          </Box>\n\n          {/* Journal Entry - dynamic rows */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>JOURNAL ENTRY</Box>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>COA</TableCell>\n                  <TableCell>Debit</TableCell>\n                  <TableCell>Credit</TableCell>\n                  <TableCell>Remarks</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {(form.journal_lines || []).map((line:any, idx:number) => (\n                  <TableRow key={idx}>\n                    <TableCell sx={{minWidth:200}}>\n                      <Select fullWidth value={String(line.coa_id || '')} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), coa_id: e.target.value }; setForm(copy); }}>\n                        <MenuItem value=\"\">-- Select COA --</MenuItem>\n                        {coas.map((a:any) => <MenuItem key={a.coa_id} value={String(a.coa_id)}>{a.account_name || a.name || a.coa_id}</MenuItem>)}\n                      </Select>\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.debit || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), debit: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.credit || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), credit: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.remarks || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), remarks: e.target.value }; setForm(copy); }} />\n                    </TableCell>\n                    <TableCell>\n                      <Button color=\"error\" onClick={() => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines = copy.journal_lines.filter((_:any,i:number)=>i!==idx); setForm(copy); }}>Remove</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <Box sx={{mt:1}}>\n              <Button onClick={() => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines.push({coa_id:'', debit:0, credit:0, remarks:''}); setForm(copy); }}>+ Add another line</Button>\n            </Box>\n            <Box sx={{mt:2, textAlign:'right'}}>\n              <div><strong>Total Debit</strong> PHP {(form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.debit)||0), 0)}</div>\n              <div><strong>Total Credit</strong> PHP {(form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.credit)||0), 0)}</div>\n            </Box>\n          </Box>\n\n          {/* Signatories */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>SIGNATORIES</Box>\n            <Box sx={{display:'grid', gridTemplateColumns: '1fr 1fr 1fr', gap:2}}>\n                <TextField label=\"Prepared By\" value={getSignatoryDisplay(form.prepared_by || form.prepared_by_manual || user?.user_id)} disabled />\n                <TextField label=\"Reviewed By\" value={getSignatoryDisplay(form.reviewed_by || form.reviewed_by_manual || (user && ((user as User).reviewer_id || (user as User).reviewer_manual)))} onChange={e => setForm({...form, reviewed_by: e.target.value})} />\n                <TextField label=\"Approved By\" value={getSignatoryDisplay(form.approved_by || form.approved_by_manual || (user && ((user as User).approver_id || (user as User).approver_manual)))} onChange={e => setForm({...form, approved_by: e.target.value})} />\n              </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)}>Cancel</Button>\n          <Button onClick={async () => {\n            // Validation rules\n            if (!form.purpose) { setSnackMsg('Purpose is required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            if (!form.payment_lines || form.payment_lines.length === 0) { setSnackMsg('At least one payment line is required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            if (!form.journal_lines || form.journal_lines.length < 2) { setSnackMsg('At least two journal entry lines are required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            if (!form.reviewed_by || !form.approved_by) { setSnackMsg('Reviewed by and Approved by must be filled'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            // Totals check optional: ensure debit == credit\n            const totalDebit = (form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.debit)||0), 0);\n            const totalCredit = (form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.credit)||0), 0);\n            if (totalDebit !== totalCredit) { setSnackMsg('Total Debit and Total Credit must be equal'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            // Prepare payload mapping lines to expected backend fields (flatten payment_lines into a simplified array)\n            // Map payment lines to backend field names: payee_contact_id and payee_display\n            const mappedPaymentLines = (form.payment_lines || []).map((l:any) => {\n              const contactId = l.payee_id || l.payee_contact_id || '';\n              const display = l.payee_name || l.payee_display || (contacts.find((c:any) => String(c.contact_id) === String(contactId))?.display_name) || '';\n              return { payee_contact_id: contactId ? Number(contactId) : null, payee_display: display, description: l.description, amount: Number(l.amount) };\n            });\n\n            // Determine reviewer/approver numeric vs manual\n            const determineSignatory = (val:any) => {\n              if (val === undefined || val === null || val === '') return { id: null, manual: null };\n              if (!isNaN(Number(val))) return { id: Number(val), manual: null };\n              // if value looks like JSON array with numeric id\n              try {\n                const p = JSON.parse(val);\n                if (Array.isArray(p) && p.length && !isNaN(Number(p[0]))) return { id: Number(p[0]), manual: null };\n              } catch (e) {}\n              return { id: null, manual: String(val) };\n            };\n\n            const reviewerSpec = determineSignatory(form.reviewed_by || form.reviewed_by_manual || '');\n            const approverSpec = determineSignatory(form.approved_by || form.approved_by_manual || '');\n\n            const payload = {\n              status: form.status || 'Draft',\n              preparation_date: form.preparation_date,\n              purpose: form.purpose,\n              paid_through: form.paid_through || 'Bank',\n              prepared_by: user?.user_id || null,\n              description: form.description || '',\n              payment_lines: mappedPaymentLines,\n              journal_lines: (form.journal_lines || []).map((l:any) => ({ coa_id: l.coa_id || null, debit: Number(l.debit)||0, credit: Number(l.credit)||0, remarks: l.remarks || '' })),\n              // include both id/manual variants and let backend persist whichever is provided\n              reviewer_id: reviewerSpec.id,\n              reviewer_manual: reviewerSpec.manual,\n              approver_id: approverSpec.id,\n              approver_manual: approverSpec.manual\n            };\n            try {\n              const token = localStorage.getItem('token');\n              if (editing) {\n                await axios.put(buildUrl(`/api/payment-vouchers/${editing.payment_voucher_id}`), payload, { headers: { Authorization: `Bearer ${token}` } });\n                setSnackMsg('Payment Voucher updated'); setSnackSeverity('success'); setSnackOpen(true); setOpen(false); fetchAll();\n              } else {\n                const res = await axios.post(buildUrl('/api/payment-vouchers'), payload, { headers: { Authorization: `Bearer ${token}` } });\n                const ctrl = res.data && res.data.payment_voucher_control ? res.data.payment_voucher_control : null;\n                setSnackMsg(ctrl ? `Payment Voucher created (${ctrl})` : 'Payment Voucher created'); setSnackSeverity('success'); setSnackOpen(true); setOpen(false); fetchAll();\n              }\n            } catch (err:any) { setSnackMsg(err.response?.data?.error || err.message || 'Save failed'); setSnackSeverity('error'); setSnackOpen(true); }\n          }} variant=\"contained\">Save</Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Preview / Print dialog */}\n      <Dialog open={previewOpen} onClose={() => setPreviewOpen(false)} fullWidth maxWidth=\"md\">\n        <DialogTitle>Preview Payment Voucher</DialogTitle>\n        <DialogContent>\n          {previewItem ? (\n            <div id=\"pv-print-area\" style={{padding:20, fontFamily: 'Arial, sans-serif', color: '#000'}}>\n              <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:20}}>\n                <div>\n                  <div style={{fontSize:20, fontWeight:700}}>{companyProfile?.company_name || companyProfile?.name || 'Company Name'}</div>\n                  <div style={{fontSize:12}}>{companyProfile?.address || ''}</div>\n                </div>\n                <div>\n                  {companyProfile?.logo ? <img src={companyProfile.logo} alt=\"logo\" style={{height:60}} /> : null}\n                </div>\n              </div>\n              <hr />\n              <div style={{display:'flex', justifyContent:'space-between', marginTop:10}}>\n                <div>\n                  <div><strong>PV Ctrl:</strong> {previewItem.payment_voucher_control}</div>\n                  <div><strong>Prepared:</strong> {formatDateToMMDDYYYY(previewItem.preparation_date)}</div>\n                  <div><strong>Purpose:</strong> {previewItem.purpose}</div>\n                </div>\n                <div style={{textAlign:'right'}}>\n                  <div><strong>Amount:</strong> PHP {previewItem.amount_to_pay || (previewItem.payment_lines && previewItem.payment_lines.length ? previewItem.payment_lines.reduce((s:any,l:any)=>s + (Number(l.amount)||0),0) : 0)}</div>\n                </div>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{fontWeight:700}}>Payment Details</div>\n                <table style={{width:'100%', borderCollapse:'collapse', marginTop:8}}>\n                  <thead>\n                    <tr><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>Payee</th><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>Description</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Amount</th></tr>\n                  </thead>\n                  <tbody>\n                    {(previewItem.payment_lines || []).map((l:any, i:number) => (\n                      <tr key={i}><td style={{padding:'6px 0'}}>{l.payee_display || l.payee_name || l.payee_contact_id || '-'}</td><td style={{padding:'6px 0'}}>{l.description || ''}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(l.amount).toFixed(2)}</td></tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{fontWeight:700}}>Journal Entries</div>\n                <table style={{width:'100%', borderCollapse:'collapse', marginTop:8}}>\n                  <thead>\n                    <tr><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>COA</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Debit</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Credit</th></tr>\n                  </thead>\n                  <tbody>\n                    {(previewItem.journal_lines || []).map((j:any, i:number) => (\n                      <tr key={i}><td style={{padding:'6px 0'}}>{j.account_name || j.coa_name || ''}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(j.debit||0).toFixed(2)}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(j.credit||0).toFixed(2)}</td></tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{display:'flex', justifyContent:'space-between'}}>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Prepared By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.prepared_by_name || getSignatoryDisplay(previewItem.prepared_by || previewItem.prepared_by_manual || '')}</div>\n                  </div>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Reviewed By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.reviewed_by_name || getSignatoryDisplay(previewItem.reviewed_by || previewItem.reviewed_by_manual || '')}</div>\n                  </div>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Approved By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.approved_by_name || getSignatoryDisplay(previewItem.approved_by || previewItem.approved_by_manual || '')}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : <div>No preview data</div>}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setPreviewOpen(false)}>Close</Button>\n          <Button onClick={() => previewItem && downloadPdf(previewItem.payment_voucher_id)} sx={{mr:1}}>Download PDF</Button>\n          <Button onClick={() => {\n            const el = document.getElementById('pv-print-area');\n            if (!el) {\n              setSnackMsg('Nothing to print'); setSnackSeverity('info'); setSnackOpen(true); return;\n            }\n            // Embed a small script that triggers print when the new window finishes loading.\n            // This avoids calling print asynchronously from the opener (which many browsers block).\n            const printHtml = `<!doctype html><html><head><meta charset=\"utf-8\"><title>Payment Voucher</title><style>body{font-family: Arial, sans-serif; color:#000; padding:20px;} table{width:100%;border-collapse:collapse;} th,td{padding:6px 4px;} th{border-bottom:1px solid #ccc;}</style></head><body>${el.innerHTML}<script> (function(){ function doPrint(){ try{ window.focus(); window.print(); }catch(e){ console.error('Print failed', e); } } if(document.readyState==='complete'){ setTimeout(doPrint,50); } else { window.addEventListener('load', function(){ setTimeout(doPrint,50); }); } window.addEventListener('afterprint', function(){ try{ window.close(); }catch(e){} }); })(); </script></body></html>`;\n            const win = window.open('', '_blank');\n            if (!win) {\n              // Popup blocked — fallback to printing via a hidden iframe which is less likely to be blocked.\n              try {\n                const iframe = document.createElement('iframe');\n                iframe.style.position = 'fixed'; iframe.style.right = '0'; iframe.style.bottom = '0'; iframe.style.width = '0'; iframe.style.height = '0'; iframe.style.border = '0';\n                document.body.appendChild(iframe);\n                const idoc = iframe.contentWindow?.document;\n                if (!idoc) throw new Error('iframe doc unavailable');\n                idoc.open();\n                idoc.write(printHtml);\n                idoc.close();\n                const tryPrint = () => {\n                  try { iframe.contentWindow?.focus(); iframe.contentWindow?.print(); } catch (e) { console.error('Iframe print failed', e); setSnackMsg('Print failed in iframe'); setSnackSeverity('error'); setSnackOpen(true); }\n                  setTimeout(() => { try { document.body.removeChild(iframe); } catch (e) {} }, 500);\n                };\n                // Some browsers need onload\n                iframe.onload = tryPrint;\n                // fallback timeout\n                setTimeout(tryPrint, 800);\n                return;\n              } catch (e:any) {\n                console.error('Print fallback failed', e);\n                setSnackMsg('Popup blocked and fallback failed. Allow popups or use Download PDF.'); setSnackSeverity('error'); setSnackOpen(true);\n                return;\n              }\n            }\n            win.document.open();\n            win.document.write(printHtml);\n            win.document.close();\n          }} variant=\"contained\">Print / Save as PDF</Button>\n        </DialogActions>\n      </Dialog>\n\n      <Dialog open={confirmOpen} onClose={() => setConfirmOpen(false)}>\n        <DialogTitle>Confirm Delete</DialogTitle>\n        <DialogContent>Are you sure you want to delete this payment voucher?</DialogContent>\n        <DialogActions>\n          <Button onClick={() => setConfirmOpen(false)}>Cancel</Button>\n          <Button color=\"error\" onClick={doDelete}>Delete</Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar open={snackOpen} autoHideDuration={4000} onClose={() => setSnackOpen(false)}>\n        <Alert severity={snackSeverity} sx={{ width: '100%' }}>{snackMsg}</Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default PaymentVouchers;\n","import React, { useState, useEffect } from 'react';\nimport { useCrud } from '../hooks/useCrud';\nimport axios from 'axios';\nimport { Snackbar, Alert, CircularProgress, Dialog, DialogTitle, DialogContent, DialogActions, Button } from '@mui/material';\nimport { buildUrl, API_BASE as RESOLVED_API_BASE } from '../apiBase';\nimport { formatDateToMMDDYYYY } from '../utils/date';\nconsole.debug && console.debug('DisbursementReports: resolved API_BASE =', RESOLVED_API_BASE || '(empty, using fallback)');\n\nexport default function DisbursementReports() {\n  const { data: reports, loading, error, fetchAll } = useCrud<any>({ endpoint: '/api/disbursement-reports' });\n  const [expanded, setExpanded] = useState({} as Record<number, boolean>);\n  const [pvList, setPvList] = useState<any[]>([]);\n  const [selected, setSelected] = useState<Record<number, boolean>>({});\n  const [creating, setCreating] = useState(false);\n\n  useEffect(() => {\n  // fetch available payment vouchers\n  axios.get(buildUrl('/api/payment-vouchers')).then(r => setPvList(r.data)).catch(() => {});\n  }, []);\n\n  React.useEffect(() => { fetchAll(); }, [fetchAll]);\n\n  // Snackbar state\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackMsg, setSnackMsg] = useState('');\n  const [snackSeverity, setSnackSeverity] = useState<'success'|'error'|'info'>('info');\n  const [submitModalOpen, setSubmitModalOpen] = useState(false);\n  const [currentReport, setCurrentReport] = useState<any>(null);\n  const [routingInfo, setRoutingInfo] = useState<any>(null);\n  const [submitting, setSubmitting] = useState(false);\n  const [cascadeNow, setCascadeNow] = useState(false);\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>Error loading reports</div>;\n\n  return (\n    <div>\n      <h2>Disbursement Reports</h2>\n      <button onClick={() => fetchAll()}>Refresh</button>\n      <div style={{display:'flex',gap: '2rem'}}>\n        <div style={{flex:1}}>\n          <h3>Available Payment Vouchers</h3>\n          <div>\n            <button onClick={() => setSelected({})}>Clear</button>\n            <button onClick={() => axios.get(buildUrl('/api/payment-vouchers')).then(r => setPvList(r.data)).catch(() => {})}>Refresh</button>\n          </div>\n          <ul>\n            {pvList.map(pv => (\n              <li key={pv.payment_voucher_id} style={{display:'flex',alignItems:'center',gap:'0.5rem'}}>\n                <input type=\"checkbox\" checked={!!selected[pv.payment_voucher_id]} onChange={() => setSelected(prev=>({...prev,[pv.payment_voucher_id]: !prev[pv.payment_voucher_id]}))} />\n                <div>{pv.payment_voucher_control} — {pv.payee_name || (pv.payment_lines && pv.payment_lines[0] && (pv.payment_lines[0].payee_display || pv.payment_lines[0].payee_contact_id)) || ''} — {pv.amount_to_pay || (pv.payment_lines && pv.payment_lines.length ? pv.payment_lines.reduce((s:any,l:any)=>s + (Number(l.amount)||0),0) : 0)}</div>\n              </li>\n            ))}\n          </ul>\n          <div>\n            <button disabled={creating} onClick={async () => {\n              const ids = Object.keys(selected).filter(k=>selected[+k]).map(k=>+k);\n              if (ids.length === 0) {\n                setSnackMsg('Select at least one PV');\n                setSnackSeverity('info');\n                setSnackOpen(true);\n                return;\n              }\n              const amount_to_pay = pvList.filter(p => ids.includes(p.payment_voucher_id)).reduce((s, p) => s + (Number(p.amount_to_pay) || (p.payment_lines && p.payment_lines.length ? p.payment_lines.reduce((ss:any,l:any)=>ss + (Number(l.amount)||0),0) : 0)), 0);\n              setCreating(true);\n              try {\n                const token = localStorage.getItem('token');\n                await axios.post(buildUrl('/api/disbursement-reports'), {\n                  status: 'Draft',\n                  disbursement_date: new Date().toISOString().slice(0,10),\n                  purpose: 'Bulk created from UI',\n                  amount_to_pay,\n                  paid_through: 'Bank',\n                  voucher_ids: ids\n                }, { headers: { Authorization: `Bearer ${token}` } });\n                setSnackMsg('Disbursement Report created');\n                setSnackSeverity('success');\n                setSnackOpen(true);\n                fetchAll();\n                setSelected({});\n              } catch (e:any) {\n                setSnackMsg(e.response?.data?.error || e.message || 'Create failed');\n                setSnackSeverity('error');\n                setSnackOpen(true);\n              } finally { setCreating(false); }\n            }}>{creating ? <><CircularProgress size={16} /> Creating...</> : 'Create DR from selected'}</button>\n          </div>\n        </div>\n        <div style={{flex:2}}>\n          <h2>Disbursement Reports</h2>\n          <button onClick={() => fetchAll()}>Refresh</button>\n          <ul>\n            {reports && reports.map((r: any) => (\n          <li key={r.disbursement_report_id} style={{marginBottom: '1rem'}}>\n            <div style={{display:'flex',justifyContent:'space-between'}}>\n              <div>\n                <strong>{r.disbursement_report_ctrl_number}</strong> — {formatDateToMMDDYYYY(r.disbursement_date)} — {r.status}\n              </div>\n              <div>\n                  <button onClick={() => setExpanded(prev => ({...prev, [r.disbursement_report_id]: !prev[r.disbursement_report_id]}))}>\n                    {expanded[r.disbursement_report_id] ? 'Hide' : 'Show'} Vouchers\n                  </button>\n                  <button style={{marginLeft:8}} onClick={async () => {\n                    // fetch routing preview\n                    try {\n                      const res = await axios.get(`/api/disbursement-reports/${r.disbursement_report_id}`);\n                      setCurrentReport(res.data);\n                      // call routing preview endpoint (reuse routeReport via submit with cascade=false and autoApprove=false?)\n                      const routeRes = await axios.post(`/api/disbursement-reports/${r.disbursement_report_id}/submit`, { cascade: false }, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }).then(x => x.data);\n                      setRoutingInfo(routeRes.routing || null);\n                      setSubmitModalOpen(true);\n                    } catch (e:any) {\n                      setSnackMsg(e.response?.data?.error || e.message || 'Routing preview failed');\n                      setSnackSeverity('error');\n                      setSnackOpen(true);\n                    }\n                  }}>Submit for Approval</button>\n              </div>\n            </div>\n            {expanded[r.disbursement_report_id] && (\n              <div style={{paddingLeft: '1rem', marginTop: '0.5rem'}}>\n                {r.vouchers && r.vouchers.length > 0 ? (\n                  <table style={{width:'100%',borderCollapse:'collapse'}}>\n                    <thead>\n                      <tr><th>PV Ctrl</th><th>Payee</th><th>Amount</th><th>Date</th></tr>\n                    </thead>\n                    <tbody>\n                      {r.vouchers.map((v: any) => (\n                        <tr key={v.payment_voucher_id}>\n                          <td>{v.payment_voucher_control}</td>\n                          <td>{v.payee_name || (v.payment_lines && v.payment_lines[0] && (v.payment_lines[0].payee_display || v.payment_lines[0].payee_contact_id)) || ''}</td>\n                          <td>{v.amount_to_pay || (v.payment_lines && v.payment_lines.length ? v.payment_lines.reduce((ss:any,l:any)=>ss + (Number(l.amount)||0),0) : 0)}</td>\n                          <td>{formatDateToMMDDYYYY(v.preparation_date)}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                ) : <div>No vouchers</div>}\n              </div>\n            )}\n          </li>\n        ))}\n          </ul>\n        </div>\n      </div>\n      <Snackbar open={snackOpen} autoHideDuration={4000} onClose={() => setSnackOpen(false)}>\n        <Alert severity={snackSeverity} sx={{ width: '100%' }}>{snackMsg}</Alert>\n      </Snackbar>\n      <Dialog open={submitModalOpen} onClose={() => setSubmitModalOpen(false)} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>Submit Disbursement Report for Approval</DialogTitle>\n        <DialogContent>\n          {routingInfo ? (\n            <div>\n              <div><strong>Reviewer:</strong> {routingInfo.reviewer ? (routingInfo.reviewer.id || routingInfo.reviewer.manual) : 'None'}</div>\n              <div><strong>Approver:</strong> {routingInfo.approver ? (routingInfo.approver.id || routingInfo.approver.manual) : 'None'}</div>\n              <div style={{marginTop:8}}>\n                <label><input type=\"checkbox\" checked={cascadeNow} onChange={(e) => setCascadeNow(e.target.checked)} /> Cascade immediately if approver present</label>\n              </div>\n              {routingInfo.notes && routingInfo.notes.length > 0 && (\n                <div style={{marginTop:8}}><strong>Notes:</strong><ul>{routingInfo.notes.map((n:any,i:number)=>(<li key={i}>{n}</li>))}</ul></div>\n              )}\n            </div>\n          ) : <div>Loading routing info...</div>}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setSubmitModalOpen(false)}>Cancel</Button>\n          <Button color=\"primary\" variant=\"contained\" disabled={submitting} onClick={async () => {\n            if (!currentReport) return;\n            setSubmitting(true);\n            try {\n              const res = await axios.post(`/api/disbursement-reports/${currentReport.disbursement_report_id}/submit`, { cascade: cascadeNow }, { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } });\n              setSnackMsg(res.data.message || 'Submitted');\n              setSnackSeverity('success');\n              setSnackOpen(true);\n              setSubmitModalOpen(false);\n              fetchAll();\n            } catch (e:any) {\n              setSnackMsg(e.response?.data?.error || e.message || 'Submit failed');\n              setSnackSeverity('error');\n              setSnackOpen(true);\n            } finally { setSubmitting(false); }\n          }}>Submit</Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import { useState, useCallback } from 'react';\nimport axios from 'axios';\nimport { buildUrl, API_BASE as RESOLVED_API_BASE } from '../apiBase';\n\nexport interface CrudOptions<T> {\n  endpoint: string; // e.g. '/api/contacts'\n  initialData?: T[];\n}\n\nexport function useCrud<T>({ endpoint, initialData = [] }: CrudOptions<T>) {\n  const [data, setData] = useState<T[]>(initialData);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  console.debug && console.debug('useCrud: resolved API_BASE =', RESOLVED_API_BASE || '(empty, using fallback)');\n\n  const makeUrl = (ep: string) => buildUrl(ep.startsWith('/') ? ep : '/' + ep);\n\n  const fetchAll = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const url = makeUrl(endpoint);\n      const res = await axios.get(url);\n      setData(res.data);\n    } catch (err: any) {\n      setError(err.response?.data?.message || err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [endpoint]);\n\n  const add = useCallback(async (item: Partial<T>) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const url = makeUrl(endpoint);\n      await axios.post(url, item);\n      await fetchAll();\n    } catch (err: any) {\n      setError(err.response?.data?.message || err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [endpoint, fetchAll]);\n\n  const update = useCallback(async (id: string | number, item: Partial<T>) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const url = makeUrl(`${endpoint}/${id}`);\n      await axios.put(url, item);\n      await fetchAll();\n    } catch (err: any) {\n      setError(err.response?.data?.message || err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [endpoint, fetchAll]);\n\n  const remove = useCallback(async (id: string | number) => {\n    setLoading(true);\n    setError(null);\n    try {\n      const url = makeUrl(`${endpoint}/${id}`);\n      await axios.delete(url);\n      await fetchAll();\n    } catch (err: any) {\n      setError(err.response?.data?.message || err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [endpoint, fetchAll]);\n\n  return {\n    data,\n    loading,\n    error,\n    fetchAll,\n    add,\n    update,\n    remove,\n    setData,\n  };\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Box, Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Select, MenuItem, Snackbar, Alert, IconButton, Table, TableHead, TableRow, TableCell, TableBody, Grid, Paper, Divider, Typography, Autocomplete } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport axios from 'axios';\nimport { tryFetchWithFallback, buildUrl } from '../apiBase';\n\ntype PaymentLine = { payee_contact_id?: number | null; payee_display?: string; description?: string; amount?: number | string };\ntype JournalLine = { coa_id?: number | string | null; debit?: number | string; credit?: number | string; remarks?: string };\n\nconst emptyPaymentLine = (): PaymentLine => ({ payee_contact_id: null, payee_display: '', description: '', amount: 0 });\nconst emptyJournalLine = (): JournalLine => ({ coa_id: '', debit: 0, credit: 0, remarks: '' });\n\nconst CheckVouchers: React.FC = () => {\n  const [items, setItems] = useState<any[]>([]);\n  // loading is intentionally not used in the modal flow; keep local if needed in future\n  const [contacts, setContacts] = useState<any[]>([]);\n  const [coas, setCoas] = useState<any[]>([]);\n\n  // Dialog/form state modeled after PaymentVouchers modal\n  const [open, setOpen] = useState(false);\n  const [editing, setEditing] = useState<any | null>(null);\n  const [form, setForm] = useState<any>({});\n  const firstFocusRef = useRef<HTMLInputElement | null>(null);\n  const [snackOpen, setSnackOpen] = useState(false);\n  const [snackMsg, setSnackMsg] = useState('');\n  const [snackSeverity, setSnackSeverity] = useState<'success'|'error'|'info'>('info');\n  const [userNames, setUserNames] = useState<Record<string,string>>({});\n  const [userOptions, setUserOptions] = useState<Array<{user_id:number, full_name?:string, username?:string}>>([]);\n\n  const fetchList = async () => {\n    try {\n      const r = await tryFetchWithFallback('/api/check-vouchers');\n      if (r.ok) setItems(await r.json());\n      else setItems([]);\n    } catch (_) { setItems([]); }\n  };\n\n  useEffect(() => { fetchList(); }, []);\n\n  const fetchContacts = async () => {\n    try {\n      const r = await axios.get(buildUrl('/api/contacts'));\n      setContacts(Array.isArray(r.data) ? r.data : []);\n      return r.data;\n    } catch (e) { setContacts([]); return [] }\n  };\n  const fetchCoas = async () => {\n    try { const r = await axios.get(buildUrl('/api/coa/all/simple')); setCoas(Array.isArray(r.data)?r.data:[]); return r.data; } catch (e) { setCoas([]); return []; }\n  };\n\n  const fetchUserOptions = async () => {\n    try {\n      const r = await axios.get(buildUrl('/api/users/public'));\n      setUserOptions(Array.isArray(r.data) ? r.data : []);\n      // seed userNames cache\n      const map: Record<string,string> = {};\n      for (const u of (r.data||[])) { if (u && u.user_id) map[String(u.user_id)] = u.full_name || u.username || String(u.user_id); }\n      setUserNames(prev => ({ ...map, ...prev }));\n      return r.data;\n    } catch (e) { return []; }\n  };\n\n  const openNew = async () => {\n    await Promise.all([fetchContacts(), fetchCoas(), fetchUserOptions()]);\n    setEditing(null);\n    // seed current user into userNames cache when available\n    let currentUserId: number | null = null;\n    try {\n      const token = localStorage.getItem('token');\n      const meResp = await axios.get(buildUrl('/api/auth/me'), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n      if (meResp && meResp.data && meResp.data.user_id) {\n        currentUserId = meResp.data.user_id;\n        setUserNames(prev => ({ ...prev, [String(meResp.data.user_id)]: meResp.data.full_name || meResp.data.username || String(meResp.data.user_id) }));\n      }\n    } catch (e) {}\n    setForm({\n      cvoucher_date: new Date().toISOString().slice(0,10),\n      purpose: '',\n      payment_lines: [ emptyPaymentLine() ],\n      journal_lines: [ emptyJournalLine(), emptyJournalLine() ], // require at least two\n      // check lines for multi-check mode\n      mode: 'single',\n      check_lines: [],\n      prepared_by: currentUserId,\n      reviewed_by: null,\n      approved_by: null,\n      paid_through: 'Bank',\n      status: 'Draft'\n    });\n    setOpen(true);\n    setTimeout(()=>{ try { firstFocusRef.current?.focus(); } catch(e){} }, 0);\n  };\n\n  const openEdit = async (cv:any) => {\n    await Promise.all([fetchContacts(), fetchCoas(), fetchUserOptions()]);\n    setEditing(cv);\n    setForm({\n      ...cv,\n      cvoucher_date: cv.cvoucher_date && typeof cv.cvoucher_date === 'string' && cv.cvoucher_date.indexOf('T') !== -1 ? cv.cvoucher_date.slice(0,10) : cv.cvoucher_date,\n      payment_lines: (cv.payment_lines && cv.payment_lines.length) ? cv.payment_lines.map((pl:any)=>({ payee_contact_id: pl.payee_contact_id, payee_display: pl.payee_display, description: pl.description, amount: pl.amount })) : [ emptyPaymentLine() ],\n      journal_lines: (cv.journal_lines && cv.journal_lines.length) ? cv.journal_lines.map((jl:any)=>({ coa_id: jl.coa_id, debit: jl.debit, credit: jl.credit, remarks: jl.remarks })) : [ emptyJournalLine(), emptyJournalLine() ],\n      mode: cv.multiple_checks ? 'multi' : 'single',\n      check_lines: cv.check_lines && cv.check_lines.length ? cv.check_lines.map((cl:any)=>({ check_date: cl.check_date, check_number: cl.check_number, check_amount: cl.check_amount, check_subpayee: cl.check_subpayee })) : []\n    });\n    setOpen(true);\n    // seed signatory names cache for prepared/reviewed/approved if numeric IDs\n    try {\n      const token = localStorage.getItem('token');\n      const toResolve: string[] = [];\n      const maybe = (v:any) => (v !== undefined && v !== null) ? v : '';\n      const vals = [maybe(cv.prepared_by), maybe(cv.prepared_by_manual), maybe(cv.reviewed_by), maybe(cv.reviewed_by_manual), maybe(cv.approved_by), maybe(cv.approved_by_manual)];\n      for (const v of vals) {\n        if (v && !isNaN(Number(v))) toResolve.push(String(v));\n      }\n      for (const id of Array.from(new Set(toResolve))) {\n        if (!userNames[id]) {\n          try { const r = await axios.get(buildUrl(`/api/users/${id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} }); if (r && r.data) setUserNames(prev => ({ ...prev, [id]: r.data.full_name || r.data.username || id })); } catch (e) { }\n        }\n      }\n    } catch (e) {}\n  };\n\n  const parseSignatoryValue = (val:any): string[] => {\n    if (val === undefined || val === null || val === '') return [];\n    if (Array.isArray(val)) return val.map(String).filter(Boolean);\n    if (typeof val === 'number') return [String(val)];\n    if (typeof val === 'string') {\n      try {\n        const p = JSON.parse(val);\n        if (Array.isArray(p)) return p.map(String).filter(Boolean);\n        if (typeof p === 'number' || typeof p === 'string') return [String(p)];\n      } catch (e) {}\n      const m = val.match(/\\d+/);\n      if (m) return [m[0]];\n      return [];\n    }\n    return [];\n  };\n\n  const getSignatoryDisplay = (val:any): string => {\n    const ids = parseSignatoryValue(val);\n    if (ids.length) return ids.map(id => userNames[String(id)] || String(id)).join(', ');\n    if (val && typeof val === 'string') return val;\n    return '';\n  };\n\n  const resetForm = () => { setForm({}); setEditing(null); setOpen(false); };\n\n  const save = async () => {\n    // Validation similar to PaymentVouchers\n    if (!form.purpose) { setSnackMsg('Purpose is required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n    if (!form.payment_lines || form.payment_lines.length === 0) { setSnackMsg('At least one payment line is required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n    if (!form.journal_lines || form.journal_lines.length < 2) { setSnackMsg('At least two journal entry lines are required'); setSnackSeverity('error'); setSnackOpen(true); return; }\n  // totalPay computed implicitly via totals below when needed\n    const totalDebit = (form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.debit)||0), 0);\n    const totalCredit = (form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.credit)||0), 0);\n    if (totalDebit !== totalCredit) { setSnackMsg('Total Debit and Total Credit must be equal'); setSnackSeverity('error'); setSnackOpen(true); return; }\n\n    // Map payment lines\n    const mappedPaymentLines = (form.payment_lines || []).map((l:any) => ({ payee_contact_id: l.payee_contact_id ? Number(l.payee_contact_id) : null, payee_display: l.payee_display || (contacts.find((c:any)=>String(c.contact_id)===String(l.payee_contact_id))?.display_name) || '', description: l.description || '', amount: Number(l.amount)||0 }));\n    const mappedJournalLines = (form.journal_lines || []).map((l:any)=>({ coa_id: l.coa_id || null, debit: Number(l.debit)||0, credit: Number(l.credit)||0, remarks: l.remarks || '' }));\n\n    const payload: any = {\n      status: form.status || 'Draft',\n      cvoucher_date: form.cvoucher_date,\n      purpose: form.purpose,\n      paid_through: form.paid_through || 'Bank',\n      prepared_by: form.prepared_by || null,\n      description: form.description || '',\n      payment_lines: mappedPaymentLines,\n      journal_lines: mappedJournalLines\n    };\n    // map reviewers/approvers: numeric -> reviewer_id/approver_id, free text -> reviewer_manual/approver_manual\n    const parseReviewer = (v:any) => {\n      if (v === null || v === undefined || v === '') return { id: null, manual: null };\n      if (!isNaN(Number(v))) return { id: Number(v), manual: null };\n      return { id: null, manual: String(v) };\n    };\n    const rv = parseReviewer(form.reviewed_by);\n    const av = parseReviewer(form.approved_by);\n    if (rv.id) payload.reviewer_id = rv.id; else if (rv.manual) payload.reviewer_manual = rv.manual;\n    if (av.id) payload.approver_id = av.id; else if (av.manual) payload.approver_manual = av.manual;\n    // keep legacy fields as well\n    payload.reviewed_by = form.reviewed_by || null;\n    payload.approved_by = form.approved_by || null;\n    // include check_lines if multi; for single mode include check_no and check_amount\n    if (form.mode === 'multi' && Array.isArray(form.check_lines)) {\n      payload.check_lines = (form.check_lines || []).map((c:any)=>({ check_number: c.check_number || c.check_no || null, check_date: c.check_date || null, check_amount: Number(c.check_amount)||0, check_subpayee: c.check_subpayee || null }));\n      payload.multiple_checks = 1;\n    } else {\n      payload.multiple_checks = 0;\n      // include single-check fields\n      if (form.check_no) payload.check_no = form.check_no;\n      // include top-level check_amount if present (otherwise backend computes from payment_lines)\n      if (form.check_amount || form.check_amount === 0) payload.check_amount = Number(form.check_amount);\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      if (editing && editing.check_voucher_id) {\n        await axios.put(buildUrl(`/api/check-vouchers/${editing.check_voucher_id}`), payload, { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n        setSnackMsg('Check Voucher updated'); setSnackSeverity('success'); setSnackOpen(true); setOpen(false); fetchList();\n      } else {\n        const res = await axios.post(buildUrl('/api/check-vouchers'), payload, { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n        const ctrl = res.data && res.data.check_voucher && res.data.check_voucher.check_voucher_control ? res.data.check_voucher.check_voucher_control : null;\n        setSnackMsg(ctrl ? `Check Voucher created (${ctrl})` : 'Check Voucher created'); setSnackSeverity('success'); setSnackOpen(true); setOpen(false); fetchList();\n      }\n    } catch (err:any) {\n      setSnackMsg(err.response?.data?.error || err.message || 'Save failed'); setSnackSeverity('error'); setSnackOpen(true);\n    }\n  };\n\n  // Preview / Print\n  const [previewOpen, setPreviewOpen] = useState(false);\n  const [previewItem, setPreviewItem] = useState<any | null>(null);\n  const downloadPdf = async (cvId: number | string | undefined) => {\n    if (!cvId) return;\n    try {\n      const token = localStorage.getItem('token');\n      const headers: Record<string,string> = {};\n      if (token) headers.Authorization = `Bearer ${token}`;\n      const resp = await tryFetchWithFallback(`/api/check-vouchers/${cvId}/pdf`, { headers });\n      if (!resp.ok) {\n        const txt = await resp.text();\n        let msg = txt;\n        try { msg = JSON.parse(txt).error || txt; } catch (e) { msg = txt; }\n        setSnackMsg(msg || `PDF request failed: ${resp.status}`); setSnackSeverity('error'); setSnackOpen(true); return;\n      }\n      const ct = resp.headers.get('content-type') || '';\n      if (!ct.includes('application/pdf')) {\n        const txt = await resp.text();\n        let msg = txt;\n        try { msg = JSON.parse(txt).error || txt; } catch (e) { msg = txt; }\n        setSnackMsg(msg || 'Server did not return a PDF'); setSnackSeverity('error'); setSnackOpen(true); return;\n      }\n      const blob = await resp.blob();\n      const url = URL.createObjectURL(blob);\n      const disp = resp.headers.get('content-disposition') || '';\n      let filename = 'check-voucher.pdf';\n      const m = /filename=\"?([^\";]+)\"?/.exec(disp);\n      if (m && m[1]) filename = m[1];\n      const a = document.createElement('a'); a.href = url; a.download = filename; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);\n    } catch (e:any) { setSnackMsg(e?.message || 'Download failed'); setSnackSeverity('error'); setSnackOpen(true); }\n  };\n\n  return (\n    <Box>\n      <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\n        <h3>Check Vouchers</h3>\n        <div>\n          <Button variant=\"contained\" onClick={openNew} sx={{mr:1}}>New CV</Button>\n          <Button onClick={() => fetchList()} sx={{mr:1}}>Refresh</Button>\n        </div>\n      </div>\n\n      <Grid container spacing={2}>\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\">Existing Check Vouchers</Typography>\n            <Divider sx={{ my: 1 }} />\n            <Box>\n              <ul>\n                {items.map(cv => (\n                  <li key={cv.check_voucher_id} style={{marginBottom:6}}>\n                    <strong>{cv.check_voucher_control}</strong> — {cv.check_payee || (cv.payment_lines && cv.payment_lines[0] && (cv.payment_lines[0].payee_display || cv.payment_lines[0].payee_name)) || ''} — PHP {cv.check_amount || (cv.payment_lines && cv.payment_lines.length ? cv.payment_lines.reduce((s:any,l:any)=>s + (Number(l.amount)||0),0) : 0)}\n                    <div style={{marginTop:4}}>\n                      <Button size=\"small\" onClick={() => openEdit(cv)} sx={{mr:1}}>Edit</Button>\n                      <Button size=\"small\" onClick={async () => {\n                        // Try fetch full server item then open preview\n                        try {\n                          const token = localStorage.getItem('token');\n                          const r = await axios.get(buildUrl(`/api/check-vouchers/${cv.check_voucher_id}`), { headers: token ? { Authorization: `Bearer ${token}` } : {} });\n                          setPreviewItem(r && r.data ? r.data : cv);\n                        } catch (e) { setPreviewItem(cv); }\n                        setPreviewOpen(true);\n                      }}>Preview</Button>\n                    </div>\n                  </li>\n                ))}\n                {items.length === 0 && <li>No check vouchers found.</li>}\n              </ul>\n            </Box>\n          </Paper>\n        </Grid>\n      </Grid>\n\n      <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"lg\">\n        <DialogTitle>{editing ? `Edit Check Voucher (${(editing && editing.check_voucher_control) || ''})` : `New Check Voucher`}<IconButton aria-label=\"close\" onClick={() => setOpen(false)} sx={{position:'absolute', right:8, top:8}}><CloseIcon /></IconButton></DialogTitle>\n        <DialogContent>\n          <Box sx={{display:'grid', gridTemplateColumns: '1fr 1fr', gap: 2, mb:2}}>\n            <TextField inputRef={firstFocusRef} label=\"Check Date\" type=\"date\" value={form.cvoucher_date || ''} onChange={e => setForm({...form, cvoucher_date: e.target.value})} InputLabelProps={{ shrink: true }} />\n            <TextField label=\"Purpose\" value={form.purpose || ''} onChange={e => setForm({...form, purpose: e.target.value})} />\n          </Box>\n\n          {/* Single check number field (only when mode is single) */}\n          {form.mode !== 'multi' && (\n            <Box sx={{mb:2}}>\n              <TextField label=\"Check Number\" value={form.check_no || ''} onChange={e => setForm({...form, check_no: e.target.value})} />\n            </Box>\n          )}\n\n          {/* Mode: single or multi checks */}\n          <Box sx={{my:1}}>\n            <Box>\n              <label style={{marginRight:12}}><input type=\"radio\" name=\"mode\" checked={form.mode !== 'multi'} onChange={()=>setForm({...form, mode: 'single'})} /> Single Check Voucher</label>\n              <label><input type=\"radio\" name=\"mode\" checked={form.mode === 'multi'} onChange={()=>setForm({...form, mode: 'multi'})} /> Multi-Check Voucher</label>\n            </Box>\n          </Box>\n\n          {/* Check lines for multi */}\n          {form.mode === 'multi' && (\n            <Box sx={{mt:2, mb:2}}>\n              <Typography variant=\"subtitle1\">Check Lines</Typography>\n              <Table size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Check Date</TableCell>\n                    <TableCell>Check No</TableCell>\n                    <TableCell>Payee</TableCell>\n                    <TableCell align=\"right\">Amount</TableCell>\n                    <TableCell></TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {(form.check_lines || []).map((cl:any, idx:number) => (\n                    <TableRow key={idx}>\n                      <TableCell><TextField type=\"date\" value={cl.check_date || ''} onChange={e => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines[idx] = { ...(copy.check_lines[idx]||{}), check_date: e.target.value }; setForm(copy); }} InputLabelProps={{ shrink: true }} /></TableCell>\n                      <TableCell><TextField value={cl.check_number || ''} onChange={e => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines[idx] = { ...(copy.check_lines[idx]||{}), check_number: e.target.value }; setForm(copy); }} /></TableCell>\n                      <TableCell>\n                        <Select fullWidth value={String(cl.check_subpayee || '')} onChange={e => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines[idx] = { ...(copy.check_lines[idx]||{}), check_subpayee: e.target.value ? Number(e.target.value) : null }; setForm(copy); }}>\n                          <MenuItem value=\"\">(Select contact)</MenuItem>\n                          {contacts.map((c:any)=> <MenuItem key={c.contact_id} value={c.contact_id}>{c.display_name}</MenuItem>)}\n                        </Select>\n                      </TableCell>\n                      <TableCell align=\"right\"><TextField type=\"number\" value={cl.check_amount || ''} onChange={e => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines[idx] = { ...(copy.check_lines[idx]||{}), check_amount: e.target.value === '' ? '' : Number(e.target.value) }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} /></TableCell>\n                      <TableCell><Button color=\"error\" onClick={() => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines = copy.check_lines.filter((_:any,i:number)=>i!==idx); setForm(copy); }}>Remove</Button></TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n              <Box sx={{mt:1}}><Button onClick={() => { const copy = {...form}; copy.check_lines = copy.check_lines || []; copy.check_lines.push({ check_date:'', check_number:'', check_amount:0, check_subpayee: null }); setForm(copy); }}>Add Check Line</Button></Box>\n            </Box>\n          )}\n\n          {/* Payment Details */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>PAYMENT DETAILS</Box>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Payee</TableCell>\n                  <TableCell>Description</TableCell>\n                  <TableCell align=\"right\">Amount to Pay</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {(form.payment_lines || []).map((line:any, idx:number) => (\n                  <TableRow key={idx}>\n                    <TableCell sx={{minWidth:200}}>\n                      <Select fullWidth value={String(line.payee_contact_id || '')} onChange={e => { const v = e.target.value; const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), payee_contact_id: v ? Number(v) : null, payee_display: contacts.find((c:any)=>String(c.contact_id)===String(v))?.display_name || '' }; setForm(copy); }}>\n                        <MenuItem value=\"\">-- Select Payee --</MenuItem>\n                        {contacts.map((c:any) => <MenuItem key={c.contact_id} value={String(c.contact_id)}>{c.display_name}{c.contact_type ? ` (${c.contact_type})` : ''}</MenuItem>)}\n                      </Select>\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.description || ''} onChange={e => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), description: e.target.value }; setForm(copy); }} />\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <TextField type=\"number\" value={line.amount || ''} onChange={e => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines[idx] = { ...(copy.payment_lines[idx] || {}), amount: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <Button color=\"error\" onClick={() => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines = copy.payment_lines.filter((_:any,i:number)=>i!==idx); setForm(copy); }}>Remove</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <Box sx={{mt:1}}>\n              <Button onClick={() => { const copy = {...form}; copy.payment_lines = copy.payment_lines || []; copy.payment_lines.push(emptyPaymentLine()); setForm(copy); }}>+ Add another line</Button>\n            </Box>\n            <Box sx={{mt:2, textAlign:'right', fontWeight:700}}>Total Amount to Pay: PHP {(form.payment_lines || []).reduce((s:any,l:any)=>s + (Number(l.amount)||0), 0)}</Box>\n          </Box>\n\n          {/* Journal Entry */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>JOURNAL ENTRY</Box>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>COA</TableCell>\n                  <TableCell>Debit</TableCell>\n                  <TableCell>Credit</TableCell>\n                  <TableCell>Remarks</TableCell>\n                  <TableCell></TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {(form.journal_lines || []).map((line:any, idx:number) => (\n                  <TableRow key={idx}>\n                    <TableCell sx={{minWidth:200}}>\n                      <Select fullWidth value={String(line.coa_id || '')} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), coa_id: e.target.value }; setForm(copy); }}>\n                        <MenuItem value=\"\">-- Select COA --</MenuItem>\n                        {coas.map((a:any) => <MenuItem key={a.coa_id} value={String(a.coa_id)}>{a.account_name || a.name || a.coa_id}</MenuItem>)}\n                      </Select>\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.debit || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), debit: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.credit || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), credit: e.target.value }; setForm(copy); }} InputProps={{ sx: { textAlign: 'right' } }} />\n                    </TableCell>\n                    <TableCell>\n                      <TextField fullWidth value={line.remarks || ''} onChange={e => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines[idx] = { ...(copy.journal_lines[idx] || {}), remarks: e.target.value }; setForm(copy); }} />\n                    </TableCell>\n                    <TableCell>\n                      <Button color=\"error\" onClick={() => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines = copy.journal_lines.filter((_:any,i:number)=>i!==idx); setForm(copy); }}>Remove</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <Box sx={{mt:1}}>\n              <Button onClick={() => { const copy = {...form}; copy.journal_lines = copy.journal_lines || []; copy.journal_lines.push(emptyJournalLine()); setForm(copy); }}>+ Add another line</Button>\n            </Box>\n            <Box sx={{mt:2, textAlign:'right'}}>\n              <div><strong>Total Debit</strong> PHP {(form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.debit)||0), 0)}</div>\n              <div><strong>Total Credit</strong> PHP {(form.journal_lines || []).reduce((s:any,l:any)=>s + (Number(l.credit)||0), 0)}</div>\n            </Box>\n          </Box>\n\n          {/* Signatories */}\n          <Box sx={{mt:2, mb:2}}>\n            <Box sx={{fontWeight:700, mb:1}}>SIGNATORIES</Box>\n            <Box sx={{display:'grid', gridTemplateColumns: '1fr 1fr 1fr', gap:2}}>\n              <TextField label=\"Prepared By\" value={(form.prepared_by_manual && form.prepared_by_manual) || (form.prepared_by && userNames[String(form.prepared_by)]) || ''} disabled />\n              <Autocomplete\n                freeSolo\n                options={userOptions.map(u => ({ id: u.user_id, label: u.full_name || u.username || String(u.user_id) }))}\n                getOptionLabel={(opt:any) => typeof opt === 'string' ? opt : (opt && opt.label) || ''}\n                // value is the selected option or a string when freeSolo; keep input in sync with form.reviewed_by\n                value={(() => {\n                  const v = form.reviewed_by;\n                  if (v === null || v === undefined || v === '') return '';\n                  if (!isNaN(Number(v))) return userNames[String(v)] || String(v);\n                  return v;\n                })()}\n                inputValue={(() => {\n                  const v = form.reviewed_by;\n                  if (v === null || v === undefined || v === '') return '';\n                  if (!isNaN(Number(v))) return userNames[String(v)] || String(v);\n                  return v;\n                })()}\n                onInputChange={(_, newInput) => {\n                  // keep the form in sync with typed input (freeSolo)\n                  setForm((prev: any) => ({ ...prev, reviewed_by: newInput }));\n                }}\n                onChange={(_, newVal) => {\n                  if (!newVal) return setForm((prev: any) => ({ ...prev, reviewed_by: null }));\n                  if (typeof newVal === 'string') return setForm((prev: any) => ({ ...prev, reviewed_by: newVal }));\n                  return setForm((prev: any) => ({ ...prev, reviewed_by: newVal.id }));\n                }}\n                renderInput={(params) => <TextField {...params} label=\"Reviewed By\" />}\n              />\n              <Autocomplete\n                freeSolo\n                options={userOptions.map(u => ({ id: u.user_id, label: u.full_name || u.username || String(u.user_id) }))}\n                getOptionLabel={(opt:any) => typeof opt === 'string' ? opt : (opt && opt.label) || ''}\n                value={(() => {\n                  const v = form.approved_by;\n                  if (v === null || v === undefined || v === '') return '';\n                  if (!isNaN(Number(v))) return userNames[String(v)] || String(v);\n                  return v;\n                })()}\n                inputValue={(() => {\n                  const v = form.approved_by;\n                  if (v === null || v === undefined || v === '') return '';\n                  if (!isNaN(Number(v))) return userNames[String(v)] || String(v);\n                  return v;\n                })()}\n                onInputChange={(_, newInput) => {\n                  setForm((prev: any) => ({ ...prev, approved_by: newInput }));\n                }}\n                onChange={(_, newVal) => {\n                  if (!newVal) return setForm((prev: any) => ({ ...prev, approved_by: null }));\n                  if (typeof newVal === 'string') return setForm((prev: any) => ({ ...prev, approved_by: newVal }));\n                  return setForm((prev: any) => ({ ...prev, approved_by: newVal.id }));\n                }}\n                renderInput={(params) => <TextField {...params} label=\"Approved By\" />}\n              />\n            </Box>\n          </Box>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => { resetForm(); }}>Cancel</Button>\n          <Button onClick={async () => { await save(); /* save already closes and fetches; ensure form reset */ resetForm(); }} variant=\"contained\">Save</Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Preview / Print dialog */}\n      <Dialog open={previewOpen} onClose={() => setPreviewOpen(false)} fullWidth maxWidth=\"md\">\n        <DialogTitle>Preview Check Voucher</DialogTitle>\n        <DialogContent>\n          {previewItem ? (\n            <div id=\"cv-print-area\" style={{padding:20, fontFamily: 'Arial, sans-serif', color: '#000'}}>\n              <div style={{display:'flex', justifyContent:'space-between', alignItems:'center', marginBottom:20}}>\n                <div>\n                  <div style={{fontSize:20, fontWeight:700}}>{previewItem.company ? (previewItem.company.name || previewItem.company.company_name || '') : ''}</div>\n                  <div style={{fontSize:12}}>{previewItem.company ? (previewItem.company.address || '') : ''}</div>\n                </div>\n                <div>\n                  {previewItem.company && previewItem.company.logo ? <img src={previewItem.company.logo} alt=\"logo\" style={{height:60}}/> : null}\n                </div>\n              </div>\n              <hr />\n              <div style={{display:'flex', justifyContent:'space-between', marginTop:10}}>\n                <div>\n                  <div><strong>CV Ctrl:</strong> {previewItem.check_voucher_control || previewItem.check_voucher_id}</div>\n                  <div><strong>Prepared:</strong> {previewItem.cvoucher_date}</div>\n                  <div><strong>Purpose:</strong> {previewItem.purpose}</div>\n                </div>\n                <div style={{textAlign:'right'}}>\n                  <div><strong>Amount:</strong> PHP {previewItem.check_amount || (previewItem.payment_lines && previewItem.payment_lines.length ? previewItem.payment_lines.reduce((s:any,l:any)=>s + (Number(l.amount)||0),0) : 0)}</div>\n                </div>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{fontWeight:700}}>Payment Details</div>\n                <table style={{width:'100%', borderCollapse:'collapse', marginTop:8}}>\n                  <thead>\n                    <tr><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>Payee</th><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>Description</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Amount</th></tr>\n                  </thead>\n                  <tbody>\n                    {(previewItem.payment_lines || []).map((l:any, i:number) => (\n                      <tr key={i}><td style={{padding:'6px 0'}}>{l.payee_display || l.payee_name || l.payee_contact_id || '-'}</td><td style={{padding:'6px 0'}}>{l.description || ''}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(l.amount||0).toFixed(2)}</td></tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{fontWeight:700}}>Journal Entries</div>\n                <table style={{width:'100%', borderCollapse:'collapse', marginTop:8}}>\n                  <thead>\n                    <tr><th style={{borderBottom:'1px solid #ccc', textAlign:'left'}}>COA</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Debit</th><th style={{borderBottom:'1px solid #ccc', textAlign:'right'}}>Credit</th></tr>\n                  </thead>\n                  <tbody>\n                    {(previewItem.journal_lines || []).map((j:any, i:number) => (\n                      <tr key={i}><td style={{padding:'6px 0'}}>{j.account_name || j.coa_name || j.coa_id || ''}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(j.debit||0).toFixed(2)}</td><td style={{padding:'6px 0', textAlign:'right'}}>{Number(j.credit||0).toFixed(2)}</td></tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n              <div style={{marginTop:20}}>\n                <div style={{display:'flex', justifyContent:'space-between'}}>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Prepared By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.prepared_by_name || getSignatoryDisplay(previewItem.prepared_by || previewItem.prepared_by_manual || '')}</div>\n                  </div>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Reviewed By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.reviewed_by_name || getSignatoryDisplay(previewItem.reviewed_by || previewItem.reviewed_by_manual || '')}</div>\n                  </div>\n                  <div style={{textAlign:'center', width:'30%'}}>\n                    <div style={{fontWeight:700}}>Approved By</div>\n                    <div style={{marginTop:24}}>__________________</div>\n                    <div style={{marginTop:8, fontSize:12}}>{previewItem.approved_by_name || getSignatoryDisplay(previewItem.approved_by || previewItem.approved_by_manual || '')}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : <div>No preview data</div>}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setPreviewOpen(false)}>Close</Button>\n          <Button onClick={() => previewItem && downloadPdf(previewItem.check_voucher_id)} sx={{mr:1}}>Download PDF</Button>\n          <Button onClick={() => {\n            const el = document.getElementById('cv-print-area');\n            if (!el) { setSnackMsg('Nothing to print'); setSnackSeverity('info'); setSnackOpen(true); return; }\n            const printHtml = `<!doctype html><html><head><meta charset=\"utf-8\"><title>Check Voucher</title><style>body{font-family: Arial, sans-serif; color:#000; padding:20px;} table{width:100%;border-collapse:collapse;} th,td{padding:6px 4px;} th{border-bottom:1px solid #ccc;}</style></head><body>${el.innerHTML}<script> (function(){ function doPrint(){ try{ window.focus(); window.print(); }catch(e){ console.error('Print failed', e); } } if(document.readyState==='complete'){ setTimeout(doPrint,50); } else { window.addEventListener('load', function(){ setTimeout(doPrint,50); }); } window.addEventListener('afterprint', function(){ try{ window.close(); }catch(e){} }); })(); </script></body></html>`;\n            const win = window.open('', '_blank');\n            if (!win) {\n              // fallback to iframe\n              try {\n                const iframe = document.createElement('iframe'); iframe.style.position='fixed'; iframe.style.right='0'; iframe.style.bottom='0'; iframe.style.width='0'; iframe.style.height='0'; iframe.style.border='0'; document.body.appendChild(iframe);\n                const idoc = iframe.contentWindow?.document; if (!idoc) throw new Error('iframe doc unavailable'); idoc.open(); idoc.write(printHtml); idoc.close(); const tryPrint = () => { try { iframe.contentWindow?.focus(); iframe.contentWindow?.print(); } catch (e) { setSnackMsg('Print failed in iframe'); setSnackSeverity('error'); setSnackOpen(true); } setTimeout(() => { try { document.body.removeChild(iframe); } catch (e) {} }, 500); };\n                iframe.onload = tryPrint; setTimeout(tryPrint, 800); return;\n              } catch (e:any) { setSnackMsg('Popup blocked and fallback failed. Allow popups or use Download PDF.'); setSnackSeverity('error'); setSnackOpen(true); return; }\n            }\n            win.document.open(); win.document.write(printHtml); win.document.close();\n          }} variant=\"contained\">Print / Save as PDF</Button>\n        </DialogActions>\n      </Dialog>\n\n      <Snackbar open={snackOpen} autoHideDuration={4000} onClose={() => setSnackOpen(false)}>\n        <Alert severity={snackSeverity} sx={{ width: '100%' }}>{snackMsg}</Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default CheckVouchers;\n","import React from 'react';\r\nimport { Box, Tabs, Tab, Paper } from '@mui/material';\r\nimport PaymentVouchers from './PaymentVouchers';\r\nimport DisbursementReports from './DisbursementReports';\r\nimport CheckVouchers from './CheckVouchers';\r\n\r\nfunction TabPanel({ children, value, index }: any) {\r\n\treturn <div role=\"tabpanel\" hidden={value !== index}>{value === index && <Box p={2}>{children}</Box>}</div>;\r\n}\r\n\r\nconst APManagement: React.FC = () => {\r\n\tconst [tab, setTab] = React.useState(0);\r\n\t\treturn (\r\n\t\t\t<Box>\r\n\t\t\t\t<h2>AP Management Module</h2>\r\n\t\t\t<Paper>\r\n\t\t\t\t<Tabs value={tab} onChange={(e, v) => setTab(v)} indicatorColor=\"primary\" textColor=\"primary\">\r\n\t\t\t\t\t<Tab label=\"Payment Vouchers\" />\r\n\t\t\t\t\t<Tab label=\"Disbursement Reports\" />\r\n\t\t\t\t\t<Tab label=\"Check Vouchers\" />\r\n\t\t\t\t</Tabs>\r\n\t\t\t</Paper>\r\n\t\t\t<TabPanel value={tab} index={0}><PaymentVouchers /></TabPanel>\r\n\t\t\t<TabPanel value={tab} index={1}><DisbursementReports /></TabPanel>\r\n\t\t\t<TabPanel value={tab} index={2}><CheckVouchers /></TabPanel>\r\n\t\t</Box>\r\n\t);\r\n};\r\n\r\nexport default APManagement;\r\n","export function formatDateToMMDDYYYY(input: string | Date | undefined | null): string {\n  if (!input) return '';\n  const d = typeof input === 'string' ? new Date(input) : input;\n  if (Number.isNaN(d.getTime())) return '';\n  const mm = String(d.getMonth() + 1).padStart(2, '0');\n  const dd = String(d.getDate()).padStart(2, '0');\n  const yyyy = String(d.getFullYear());\n  return `${mm}/${dd}/${yyyy}`;\n}\n"],"names":["console","debug","RESOLVED_API_BASE","emptyForm","status","preparation_date","purpose","paid_through","prepared_by","description","payment_lines","journal_lines","PaymentVouchers","user","useContext","UserContext","items","setItems","useState","loading","setLoading","contacts","setContacts","coas","setCoas","open","setOpen","editing","setEditing","form","setForm","expectedControl","setExpectedControl","firstFocusRef","useRef","companyProfile","setCompanyProfile","userNames","setUserNames","previewOpen","setPreviewOpen","previewItem","setPreviewItem","parseSignatoryValue","val","undefined","Array","isArray","map","String","filter","Boolean","p","JSON","parse","e","m","match","getSignatoryDisplay","ids","length","id","join","deleteId","setDeleteId","confirmOpen","setConfirmOpen","selected","setSelected","creatingDR","setCreatingDR","snackOpen","setSnackOpen","snackMsg","setSnackMsg","snackSeverity","setSnackSeverity","fetchAll","useCallback","async","pvResData","pvRes","axios","get","buildUrl","data","err","_err$response","error","response","message","seed","idsToFetch","Set","prepared_by_username","isNaN","Number","sid","add","Object","keys","prev","_objectSpread","size","token","localStorage","getItem","Promise","all","from","r","concat","headers","Authorization","full_name","username","fetchedContacts","contactRes","_err$response2","vendRes","mapped","v","contact_id","vendor_id","display_name","name","contact_type","log","slice","_e$response","coaRes","c","_err$response3","warn","fb","c2","err2","_err2$response","fetchCoas","res","tryFetchWithFallback","ok","Error","json","fbRes","data2","fetchContacts","_e$response2","_err$response4","React","setTimeout","_firstFocusRef$curren","current","focus","cache","then","d","catch","_jsxs","Box","children","style","display","justifyContent","alignItems","_jsx","Button","variant","onClick","rows","_e$response3","refreshedUser","resp","reviewed_by_val","approved_by_val","me","_me","reviewer_id","reviewer_manual","approver_id","approver_manual","user_id","rid","aid","Date","toISOString","reviewed_by","approved_by","payee_id","amount","coa_id","debit","credit","remarks","id2","sx","mr","color","CircularProgress","Table","TableHead","TableRow","TableCell","TableBody","pv","Checkbox","checked","payment_voucher_id","onChange","toggleSelect","payment_voucher_control","formatDateToMMDDYYYY","amount_to_pay","reduce","s","l","pvReviewer","reviewed_by_manual","pvApprover","approved_by_manual","reviewerValue","approverValue","indexOf","pl","payee_contact_id","payee_name","payee_display","idsToResolve","pid","push","openEdit","confirmDelete","serverPV","basePV","resolvedJournal","j","copy","account_name","cid","coa","found","find","enrichedPV","fetchedNames","maybe","ridVals","aidVals","pidVals","prepared_by_manual","prepared_by_name","vals","reviewed_by_name","approved_by_name","reviewerSource","approverSource","ex","colSpan","marginTop","k","includes","ss","post","disbursement_date","voucher_ids","_e$response5","_e$response5$data","disabled","_Fragment","Dialog","onClose","fullWidth","maxWidth","DialogTitle","IconButton","position","right","top","CloseIcon","DialogContent","gridTemplateColumns","gap","mb","TextField","inputRef","label","type","value","target","InputLabelProps","shrink","FormControl","InputLabel","Select","labelId","MenuItem","mt","fontWeight","align","line","idx","minWidth","payee","_contacts$find","InputProps","textAlign","_","i","a","DialogActions","mappedPaymentLines","_contacts$find2","contactId","determineSignatory","manual","reviewerSpec","approverSpec","payload","put","ctrl","_err$response5","_err$response5$data","padding","fontFamily","marginBottom","fontSize","company_name","address","logo","src","alt","height","width","borderCollapse","borderBottom","toFixed","coa_name","pvId","txt","text","msg","blob","url","URL","createObjectURL","disp","filename","exec","document","createElement","href","download","body","appendChild","click","remove","revokeObjectURL","downloadPdf","el","getElementById","printHtml","innerHTML","win","window","_iframe$contentWindow","iframe","bottom","border","idoc","contentWindow","write","close","tryPrint","_iframe$contentWindow2","_iframe$contentWindow3","print","removeChild","onload","delete","_e$response4","_e$response4$data","Snackbar","autoHideDuration","Alert","severity","DisbursementReports","reports","_ref","endpoint","initialData","setData","setError","makeUrl","ep","startsWith","_err$response$data","item","_err$response2$data","update","_err$response3$data","_err$response4$data","useCrud","expanded","setExpanded","pvList","setPvList","creating","setCreating","useEffect","submitModalOpen","setSubmitModalOpen","currentReport","setCurrentReport","routingInfo","setRoutingInfo","submitting","setSubmitting","cascadeNow","setCascadeNow","flex","_e$response$data","disbursement_report_ctrl_number","disbursement_report_id","marginLeft","routeRes","cascade","x","routing","_e$response2$data","paddingLeft","vouchers","reviewer","approver","notes","n","_e$response3$data","CheckVouchers","userOptions","setUserOptions","fetchList","fetchUserOptions","u","resetForm","currentUserId","meResp","cvoucher_date","mode","check_lines","Grid","container","spacing","xs","md","Paper","Typography","Divider","my","cv","check_voucher_control","check_payee","check_amount","jl","multiple_checks","cl","check_date","check_number","check_subpayee","toResolve","check_voucher_id","check_no","marginRight","Autocomplete","freeSolo","options","getOptionLabel","opt","inputValue","onInputChange","newInput","newVal","renderInput","params","mappedJournalLines","parseReviewer","rv","av","check_voucher","save","company","cvId","TabPanel","index","role","hidden","APManagement","tab","setTab","Tabs","indicatorColor","textColor","Tab","input","getTime","mm","getMonth","padStart","dd","getDate","yyyy","getFullYear"],"sourceRoot":""}